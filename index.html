<html>
<head>
  <title>Radix-Emojii</title>
  <script src="https://cdn.jsdelivr.net/emojione/2.2.7/lib/js/emojione.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/emojione/2.2.7/assets/css/emojione.min.css"/>
  <script src="https://cdn.jsdelivr.net/jquery/3.1.1/jquery.min.js"></script>
  <style>
    table { border: solid 1px #CCC; border-collapse:collapse; }
    table td, table th { text-align:center; line-height:1em; padding:0.2em 0.5em; border:solid 1px #CCC; border-collapse:collapse; }
  </style>
</head>
<body>
  <p>Given a list of 1024 characters, each of those characters can represent 10 bits of data. That means every 5 bytes of data can be represented with four characters.
  <table id="example">
    <tbody>
      <tr><th>Source (ASCII)</th>
        <td colspan="8">M</td>
        <td colspan="8">a</td>
        <td colspan="8">n</td>
        <td colspan="8"> </td>
        <td colspan="8">i</td>
      </tr>
      <tr><th>Source (octetes)</th>
        <td colspan="8">0x4d</td>
        <td colspan="8">0x61</td>
        <td colspan="8">0x6e</td>
        <td colspan="8">0x20</td>
        <td colspan="8">0x69</td>
      </tr>
      <tr><th>Source (bits)</th>
        <td>0</td><td>1</td><td>0</td><td>0</td><td>1</td><td>1</td><td>0</td><td>1</td>
        <td>0</td><td>1</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td>
        <td>0</td><td>1</td><td>1</td><td>0</td><td>1</td><td>1</td><td>1</td><td>0</td>
        <td>0</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td>
        <td>0</td><td>1</td><td>1</td><td>0</td><td>1</td><td>0</td><td>0</td><td>1</td>
      </tr>
      <tr><th>Index</th>
        <td colspan="10">309</td>
        <td colspan="10">534</td>
        <td colspan="10">904</td>
        <td colspan="10">105</td>
      </tr>
    </tbody>
  </table>
  <p>Note, this encoding is not space-efficient to <em>store</em> binary data, as every emojii character takes 4 bytes to store (in UTF-8), so those four characters ta ke 16 bytes to store, while only representing 5 bytes of data.</p>
  <div id="emoji-table">
    <table cellspacing="0">
      <thead><tr><th>Index</th><th>String</th><th>Emoji</th><th>Unicode</th><th>Shortcode</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>
  <script>
    function toUTF16(codePoint) {
      var TEN_BITS = parseInt('1111111111', 2);
      function u(codeUnit) {
        return String.fromCharCode(codeUnit);
        //return '\\u'+codeUnit.toString(16).toUpperCase();
      }

      if (codePoint <= 0xFFFF) {
          return u(codePoint);
      }
      codePoint -= 0x10000;

      // Shift right to get to most significant 10 bits
      var leadSurrogate = 0xD800 + (codePoint >> 10);

      // Mask to get least significant 10 bits
      var tailSurrogate = 0xDC00 + (codePoint & TEN_BITS);

      return u(leadSurrogate) + u(tailSurrogate);
    }
    var emojis = [
      // Free
      0x1F193,

      // Clocks
      0x1F550, 0x1F551, 0x1F552, 0x1F553, 0x1F554, 0x1F555, 0x1F556, 0x1F557, 0x1F558, 0x1F559,
      0x1F55A, 0x1F55B,

      // Monkeys
      0x1F648, 0x1F649, 0x1F64A,

      // Faces
      0x1F600, 0x1F601, 0x1F602, 0x1F603, 0x1F604, 0x1F605, 0x1F606, 0x1F607, 0x1F608, 0x1F609,
      0x1F60A, 0x1F60B, 0x1F60C, 0x1F60D, 0x1F60E, 0x1F60F, 0x1F610, 0x1F611, 0x1F612, 0x1F613,
      0x1F614, 0x1F615, 0x1F616, 0x1F617, 0x1F618, 0x1F619, 0x1F61A, 0x1F61B, 0x1F61C, 0x1F61D,
      0x1F61E, 0x1F61F, 0x1F620, 0x1F621, 0x1F622, 0x1F623, 0x1F624, 0x1F625, 0x1F626, 0x1F627,
      0x1F628, 0x1F629, 0x1F62A, 0x1F62B, 0x1F62C, 0x1F62D, 0x1F62E, 0x1F62F, 0x1F630, 0x1F631,
      0x1F632, 0x1F633, 0x1F634, 0x1F635, 0x1F636, 0x1F637, 0x1F641, 0x1F642, 0x1F643, 0x1F644,
      0x1F910, 0x1F911, 0x1F912, 0x1F913, 0x1F914, 0x1F915, 0x1F917, 0x2639,
      0x263A,

      // Animal Faces
      0x1F42D, 0x1F42E, 0x1F42F, 0x1F430, 0x1F431, 0x1F432, 0x1F434, 0x1F435, 0x1F436, 0x1F437,
      0x1F438, 0x1F439, 0x1F43A, 0x1F43B, 0x1F43C, 0x1F638, 0x1F639, 0x1F63A, 0x1F63B, 0x1F63C,
      0x1F63D, 0x1F63E, 0x1F63F, 0x1F640, 0x1F984,

      // Hands
       0x261D,  0x270A,  0x270B,  0x270C,  0x270D, 0x1F446, 0x1F447, 0x1F448, 0x1F449, 0x1F44A,
      0x1F44B, 0x1F44C, 0x1F44D, 0x1F44E, 0x1F44F, 0x1F450, 0x1F4AA, 0x1F590, 0x1F596, 0x1F64C,
      0x1F64F, 0x1F918,

      // People
       0x26F7,  0x26F9, 0x1F385, 0x1F3C2, 0x1F3C3, 0x1F3C4, 0x1F3C7, 0x1F3CA, 0x1F3CB, 0x1F3CC,
      0x1F464, 0x1F465, 0x1F466, 0x1F467, 0x1F468, 0x1F469, 0x1F46A, 0x1F46B, 0x1F46C, 0x1F46D,
      0x1F46E, 0x1F46F, 0x1F470, 0x1F471, 0x1F472, 0x1F473, 0x1F474, 0x1F475, 0x1F476, 0x1F477,
      0x1F478, 0x1F481, 0x1F482, 0x1F483, 0x1F486, 0x1F487, 0x1F48F, 0x1F491, 0x1F574, 0x1F575,
      0x1F645, 0x1F646, 0x1F647, 0x1F64B, 0x1F64D, 0x1F64E, 0x1F6B4, 0x1F6B5, 0x1F6B6,

      // Moon phases
      0x1F311, 0x1F312, 0x1F313, 0x1F314, 0x1F315, 0x1F316, 0x1F317, 0x1F318,

      // Celestial
       0x2600,  0x2604, 0x1F30C, 0x1F30D, 0x1F30E, 0x1F30F, 0x1F310, 0x1F319, 0x1F6F0,  0x2648,
       0x2649,  0x264A,  0x264B,  0x264C,  0x264D,  0x264E,  0x264F,  0x2650,  0x2651,  0x2652,
       0x2653,

      // Hearts
       0x2763,  0x2764, 0x1F493, 0x1F494, 0x1F495, 0x1F496, 0x1F497, 0x1F498, 0x1F499, 0x1F49A,
      0x1F49B, 0x1F49C, 0x1F49D, 0x1F49E, 0x1F49F,

      // Weather
       0x2601,  0x2602,  0x2603,  0x2614,  0x26C4,  0x26C5,  0x26C8,  0x2744, 0x1F300, 0x1F302,
      0x1F321, 0x1F324, 0x1F325, 0x1F326, 0x1F327, 0x1F328, 0x1F329, 0x1F32A, 0x1F32B, 0x1F32C,
      0x1F4A7,

      // Time
       0x231A,  0x231B,  0x23F0,  0x23F1,  0x23F2,  0x23F3, 0x1F570, 0x1F4C5, 0x1F4C6, 0x1F5D3,
      0x1F55C, 0x1F55D, 0x1F55E, 0x1F55F, 0x1F560, 0x1F561, 0x1F562, 0x1F563, 0x1F564, 0x1F565,
      0x1F566, 0x1F567,

      // Shapes
       0x25AA,  0x25FE,  0x25FC,  0x2B1B, // Black Square
       0x25AB,  0x25FD,  0x25FB,  0x2B1C, // White Square
       0x26AB,  0x26AA, 0x1F534, 0x1F535, // Circle
       0x2705,  0x2714, // Check
       0x2716,  0x274C,  0x274E, // Cross
      0x1F4A0, 0x1F538, 0x1F536, 0x1F539, 0x1F537, // Diamond
      0x1F53A, 0x1F53C, 0x1F53B, 0x1F53D,

       0x2733,  0x2734,  0x2747,  0x2728, 0x2B50, 0x1F31F, 0x1F320, // Stars
       0x2660,  0x2663,  0x2665,  0x2666, // Cards

      // Food
      0x1F32D, 0x1F32E, 0x1F32F, 0x1F330, 0x1F336, 0x1F33D, 0x1F33E, 0x1F33F, 0x1F344, 0x1F345,
      0x1F346, 0x1F347, 0x1F348, 0x1F349, 0x1F34A, 0x1F34B, 0x1F34C, 0x1F34D, 0x1F34E, 0x1F34F,
      0x1F350, 0x1F351, 0x1F352, 0x1F353, 0x1F354, 0x1F355, 0x1F356, 0x1F357, 0x1F358, 0x1F359,
      0x1F35A, 0x1F35B, 0x1F35C, 0x1F35D, 0x1F35E, 0x1F35F, 0x1F360, 0x1F361, 0x1F362, 0x1F363,
      0x1F364, 0x1F365, 0x1F366, 0x1F367, 0x1F368, 0x1F369, 0x1F36A, 0x1F36B, 0x1F36C, 0x1F36D,
      0x1F36E, 0x1F36F, 0x1F370, 0x1F371, 0x1F372, 0x1F373, 0x1F375, 0x1F376, 0x1F377, 0x1F378,
      0x1F379, 0x1F37A, 0x1F37B, 0x1F37C, 0x1F37E, 0x1F37F, 0x1F382,

      0x1F374, 0x1F37D,

      // Animals
      0x1F400, 0x1F401, 0x1F402, 0x1F403, 0x1F404, 0x1F405, 0x1F406, 0x1F407, 0x1F408, 0x1F409,
      0x1F40A, 0x1F40B, 0x1F40C, 0x1F40D, 0x1F40E, 0x1F40F, 0x1F410, 0x1F411, 0x1F412, 0x1F413,
      0x1F414, 0x1F415, 0x1F416, 0x1F417, 0x1F418, 0x1F419, 0x1F41A, 0x1F41B, 0x1F41C, 0x1F41D,
      0x1F41E, 0x1F41F,

      // Creatures
       0x2620,

      // Plants
       0x2618, 0x1F331, 0x1F332, 0x1F333, 0x1F334, 0x1F335, 0x1F337, 0x1F338, 0x1F339, 0x1F33A,
      0x1F33B, 0x1F33C, 0x1F340, 0x1F341, 0x1F342, 0x1F343, 0x1F344,

      // Sports
       0x26BD,  0x26BE,  0x26F3,  0x26F5,  0x26F9,
    ];
    function buildTable() {
      var $tb = $('#emoji-table tbody');
      var $rows = emojis.map(function(codePoint, index) {
        var str = toUTF16(codePoint);
        var hex = codePoint.toString(16).toUpperCase();
        return $('<tr><td>' + index + '</td><td>' + str + '</td><td>' + emojione.unicodeToImage(str) + '</td><td>U+' + hex + '</td><td>' + emojione.toShort(str) + '</td></tr>');
      });
      $tb.append($rows);
    }

    buildTable();
  </script>
</body>
</html>
